<div class="body d-flex py-3">
  <div class="container-xxl">
    <div class="row align-items-center">
      <div class="border-0 mb-4">
        <div
          class="card-header py-3 no-bg bg-transparent d-flex align-items-center px-0 justify-content-between border-bottom flex-wrap">
          <h3 class="fw-bold mb-0">Patient List</h3>
        </div>
      </div>
    </div> <!-- Row end  -->

    <div class="row mb-3">
      <div class="card">
        <div class="card-body">
          <div id="patient-table_wrapper" class="dataTables_wrapper dt-bootstrap5 no-footer">

            <!-- filters -->
            <div class="row">
              <div class="col-md-2">
                <div class="form-group">
                  <label for="fname">First Name</label>
                  <input type="text" id="fname" [(ngModel)]="filters.fname" class="form-control">
                </div>
              </div>
              <div class="col-md-2">
                <div class="form-group">
                  <label for="lname">Last Name</label>
                  <input type="text" id="lname" [(ngModel)]="filters.lname" class="form-control">
                </div>
              </div>
              <div class="col-md-2">
                <div class="form-group">
                  <label for="gender">Gender</label>
                  <!-- Gender dropdown -->
                  <select id="gender" class="form-select" [(ngModel)]="filters.gender">
                    <option disabled selected>Sex</option>
                    <option value="F">Female</option>
                    <option value="M">Male</option>
                    <option value="">All</option>
                  </select>
                </div>
              </div>
              <div class="col-md-1">
                <div class="form-group">
                  <label for="age">Age</label>
                  <input type="text" id="age" [(ngModel)]="filters.age" class="form-control">
                </div>
              </div>
              <div class="col-md-2">
                <div class="form-group">
                  <br>
                  <button (click)="applyFilters()" class="btn btn-primary ">Apply Filters</button>
                </div>
              </div>
              <div class="col-md-2">
                <div class="form-group">
                  <br>
                  <button (click)="clearFilters()" class="btn btn-secondary">Clear Filters</button>
                </div>
              </div>
            </div>
            <br>
            <button class="btn btn-success" [routerLink]="['/add-patient']"> Add Patient</button>

            <br>

            <!-- Table Section -->
            <div class="row">
              <div class="col-sm-12">
                <table id="patient-table"
                       class="table table-hover align-middle mb-0 nowrap dataTable no-footer dtr-inline"
                       style="width: 100%;" role="grid" aria-describedby="patient-table_info">

                  <!-- table row -->
                  <thead>
                  <tr role="row">
                    <th class="sorting_asc" style="width: 100.2px;"
                        aria-label="Id: activate to sort column descending">
                      Patient Id
                    </th>
                    <th class="sorting" style="width: 100.2px;"
                        aria-label="First Name: activate to sort column ascending">
                      First Name
                    </th>
                    <th class="sorting" style="width: 100.2px;" aria-label="Last Name: activate to sort column ascending">
                      Last Name
                    </th>
                    <th class="sorting" style="width: 20px;" aria-label="Birth Date: activate to sort column ascending">
                      Age
                    </th>
                    <th class="sorting" style="width: 20px;" aria-label="Gender: activate to sort column ascending">
                      Gender
                    </th>
                    <th class="sorting" style="width: 120px;" aria-label="Email: activate to sort column ascending">
                      Email
                    </th>
                    <th class="sorting" style="width: 120px;" aria-label="Phone Number: activate to sort column ascending">
                      Phone Number
                    </th>
                    <th class="sorting" style="width: 200px;" aria-label="Address: activate to sort column ascending">
                      Address
                    </th>
                  </tr>
                  </thead>

                  <!-- table body -->
                  <tbody *ngFor="let patient of patients">
                  <tr role="row" class="odd" [routerLink]="['/patient-profile', patient.patient_id]">
                    <td tabindex="0" class="sorting_1">{{ patient.patient_id }}</td>
                    <td tabindex="0" class="sorting_1">{{ patient.fname }}</td>
                    <td tabindex="0" class="sorting_1">{{ patient.lname }}</td>
                    <td tabindex="0" class="sorting_1">{{ patient.bdate }}</td>
                    <td tabindex="0" class="sorting_1">{{ patient.gender }}</td>
                    <td tabindex="0" class="sorting_1">{{ patient.email }}</td>
                    <td tabindex="0" class="sorting_1">{{ patient.phone_number }}</td>
                    <td tabindex="0" class="sorting_1">{{ patient.address }}</td>
                  </tr>
                  </tbody>


                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
